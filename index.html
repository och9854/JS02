<!DOCTYPE html> 
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewpoint" content="width=device-width, initial-scale=1.0">
    <title> My Serengeti Animal </title>
    <!-- A tage which  -->
    <meta name="description" content="A test which recommends an animal based on MBTI test">

    <meta property="og:type" content="website"> 
    <meta property="og:title" content="My Serengeti Animal">
    <meta property="og:description" content="A test which recommends an animal based on MBTI test">
    <meta property="og:image" content="https://app.netlify.com/sites/testresult/overview/lion.jpg">
    <meta property="og:url" content="https://app.netlify.com/sites/testresult/overview">

    <!-- When you type link:css, it will automatically writes this code below -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css"> 
</head>


<body class="container">

    <article class="start">
        <h1 class="mt-5">Find My Serengeti Animal </h1>
        <button type="button" class="btn btn-primary mt-5" onclick="start();">Start Test</button>
    </article>

    <article class="question">
        <div class="progress mt-5">
            <div class="progress-bar" role="progressbar" aria-label="Basic example" style="width: calc(100/12*8%)" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
          </div>
        <h2 id = "title" class="text-center mt-5"> Question </h2>
        <input id="type" type="hidden" value="EI">
        <button id="A" type="button" class="btn btn-primary mt-5">Primary</button>
        <button id="B" type="button" class="btn btn-primary mt-5">Primary</button>

    </article>

    <article class="result" >
         <!-- alt: The alt attribute provides alternative information for an image if a user for some reason cannot view it (because of slow connection, an error in the src attribute, or if the user uses a screen reader).  -->
        <img id='img' src="lion.jpg" class="rounded-circle mt-5" alt=""> 
        <h2 id="animal" class="text-center mt-5"> Animal Name</h2>
        <h3 id="explain" class="text-center mt-5"> Explanation </h3>

    
        
        <!-- Go to www.addthis.com/dashboard to customize your tools -->
        <div class="share addthis_inline_share_toolbox_4fzr"></div>
    
    </article>

    <article class="kakao_ad mt-5">
        <ins class="kakao_ad_area" style="display:none;" 
            data-ad-unit    = "DAN-7puttfCr56XiCmWf" 
            data-ad-width   = "320" 
            data-ad-height  = "100"></ins> 
        <script type="text/javascript" src="//t1.daumcdn.net/kas/static/ba.min.js" async></script>
    </article>  
    
    <a class="mt-5 banner" href="https://www.codelion.net/catalog/Q291cnNlTm9kZTpqbW9r?utm_source=animal_test&utm_medium=web_lecture&utm_campaign=jakehyun1119">
        <img id= "banner-img" src="banner.png" alt="banner">
    </a>                     


    <input type ="hidden" id="EI" value = "0">
    <input type ="hidden" id="SN" value = "0">
    <input type ="hidden" id="TF" value = "0">
    <input type ="hidden" id="JP" value = "0">

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
    <script>
        var num = 1;
        var q = { // Store question information
            1: {"title": "question1", "type":"EI", "A":"E", "B":"I"},
            2: {"title": "question2", "type":"EI", "A":"E", "B":"I"},
            3: {"title": "question3", "type":"EI", "A":"E", "B":"I"},
            4: {"title": "question4", "type":"SN", "A":"S", "B":"N"},
            5: {"title": "question5", "type":"SN", "A":"S", "B":"N"},
            6: {"title": "question6", "type":"SN", "A":"S", "B":"N"},        
            7: {"title": "question7", "type":"TF", "A":"T", "B":"F"},
            8: {"title": "question8", "type":"TF", "A":"T", "B":"F"},        
            9: {"title": "question9", "type":"TF", "A":"T", "B":"F"},
            10: {"title": "question10", "type":"JP", "A":"J", "B":"P"},
            11: {"title": "question11", "type":"JP", "A":"J", "B":"P"},
            12: {"title": "question12", "type":"JP", "A":"J", "B":"P"},
        }

        var result = {
            "ISTJ": {"animal" :"Hippo", "explain": "hippo explain", "img":"hippo.jpg"},
            "ISFJ": {"animal" :"owl", "explain": "owl explain", "img":"owl.jpg"},
            "INFJ": {"animal" :"buffalo", "explain": "buffalo explain", "img":"buffalo.jpg"},
            "INTJ": {"animal" :"cheetah", "explain": "cheetah explain", "img":"cheetah.jpg"},
            "ISTP": {"animal" :"sloth", "explain": "sloth explain", "img":"sloth.jpg"},
            "ISFP": {"animal" :"turtle", "explain": "turtle explain", "img":"turtle.jpg"},
            "INFP": {"animal" :"elephant", "explain": "elephant explain", "img":"elephant.jpg"},
            "INTP": {"animal" :"chimpanzee", "explain": "chimpanzee explain", "img":"chimpanzee.jpg"},
            "ESTP": {"animal" :"crocodile", "explain": "crocodile explain", "img":"hippo.jpg"},
            "ESFP": {"animal" :"meerkat", "explain": "meerkat explain", "img":"meerkat.jpg"},
            "ENFP": {"animal" :"lion", "explain": "lion explain", "img":"lion.jpg"},
            "ENTP": {"animal" :"sunbird", "explain": "sunbird explain", "img":"sunbird.jpg"},
            "ESTJ": {"animal" :"giraffe", "explain": "giraffe explain", "img":"giraffe.jpg"},
            "ESFJ": {"animal" :"gorilla", "explain": "gorilla explain", "img":"gorilla.jpg"},
            "ENFJ": {"animal" :"capybara", "explain": "capybara explain", "img":"capybara.jpg"},
            "ENTJ": {"animal" :"tiger", "explain": "tiger explain", "img":"tiger.jpg"},
        }

        function start() {
            $('.start').hide();
            next();
            $(".question").show();
        }
        $("#A").click(function(){
            var type = $("#type").val(); // get type string (ex. EI, TF)
            var preValue = $("#"+type).val(); // give input
            $("#"+type).val(parseInt(preValue)+1);
            next();
        });

        $("#B").click(function(){ 
            // Do not have to add value 
            // because we will just count only frontal value(E,S,T,J)
            next();
        });

        function next() { // call questions and change the HTML and Value
            if (num >= 13) {
                $(".question").hide();
                $(".result").show();

                var mbti = "";
                ($('#EI').val() > 2) ? mbti+="E" : mbti+="I";
                ($('#SN').val() > 2) ? mbti+="S" : mbti+="N";
                ($('#TF').val() > 2) ? mbti+="T" : mbti+="F";
                ($('#JP').val() > 2) ? mbti+="J" : mbti+="P";
  
                $('#img').attr("src", result[mbti]["img"]);
                $('#animal').html(result[mbti]["animal"]);
                $('#explain').html(result[mbti]["explain"]);

            }

            else {
                $('.progress-bar').attr("style", 'width: calc(100/12*' + num + '%)');       // Change the attribute of class
                $("#title").html(q[num]["title"]); // String -> change the value
                $("#type").val(q[num]["type"]);
                $("#A").html(q[num]["A"]);
                $("#B").html(q[num]["B"]);
                num++;
            }
        }

    </script>

    <!-- Go to www.addthis.com/dashboard to customize your tools -->
    <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-632f447bc09993f0"></script>

    </body>
</html>